<!DOCTYPE html>
<!--Ceci n'est pas une balise mais une directive
indique la version de HTML utilisée:HTML5-->

<!--Ceci est un commentaire-->

<!--balises paires/impaires-->

<html>
<head><!--Entête de la page-->
	<title></title>
	<meta charset="utf-8">
	<!--Encodage de la page (gestion des caractères accentués)-->
	<link rel="stylesheet" type="text/css" href="../css/monstyle.css">
	<!--intégrer un fichier css externe-->
	<link rel="shortcut icon" type="image/c-icon" href="../images/monImage.jpg">
	<!--Afficher une image dans l'onglet de sa page-->
	<style type="text/css">
		
		#btn1 {
			display: flex;
			flex-direction: column;
		}
	</style>

</head>
<body>
<header>Skiilou's company
	<img src="images/5petit.jpg" width="145" height="145" alt="plan">
</header><hr/>

<main>
		<h1>Gestion des images en javascript</h1>
		<!--<img src="../images/TOM.png" id="img1" alt="img1" width="100" height="100">-->

		<!-- afficher images en js avec document.write-->
		<script type="text/javascript">
			/*document.write("<img src='../images/TOM.png'>");
			on definit plusieurs variables
			on veut afficher 5 images appellées img1.png... img5.png
			en dessous des images nous afficherons un bouton qui affichera aléatoirement une des 5 images
			 le bouton peut ètre affiché de deux façons : 
			 on écrit la balise button ou on génere dynamiquement notre bouton 
			 première methode : se servir d'une balise img statique(on ecrit la balise img et on modifiera son src)
			 deuxième methode : generer dynamiquement la balise img et ses attributs*/

			//declaration des variables
			var idImg="";	//identifiant
			var chemin ="images/image";	//chemin relatif avec le debut du nom de mon fichier
      		var ext =".png";	//extension de mon fichier
      		var chemindeux="";	//chemin relatif avec le debut du nom de mon fichier

      		// on veut afficher les 5 images 
			for (i=1;i<=5;i++)
        	{
        		idImg="idImg"+i;//on concantène "idImg" avec i
        		monsrc=chemin+i+ext;// on concatène chemin,i et ext dans monsrc
        		//console.log(monsrc);
        		//on affecte une balise img dans la variable chemindeux
        		//chemindeux="<IMG src="+monsrc+" alt="+idImg+" id="+idImg+" width=100 height=100/>";
        		//document.write("<IMG src=",monsrc," alt=",idImg," id=",idImg," width=100 height=100/>");
        		//document.write(chemindeux);//afficher l'images

        		//création dynamique de l'image
        		var img = document.createElement('img'); //Créer la balise IMG
        		img.setAttribute('src',monsrc);// Initialiser  src equivalent de img.src = monsrc
        		img.setAttribute('id','image1');// Initialiser id 
        		img.setAttribute('alt','image1');// Initialiser alt
        		img.setAttribute('width','100');// Initialiser width
        		img.setAttribute('height','100');// Initialiser height
        		//.appendChild(img), on ajoute l'objet img au body du document
        		document.getElementsByTagName("body")[0].appendChild(img);//("body")[0] signifie qu'il faut prendre le premier body de la page et uniquement le premier si on en a plusieurs
       	 	} 

            // fonction de generation aléatoire du src de l'image qui est generée dynamiquement
            function imgalea()
			{
				// generation d'un chiffre aléatoirement entre 1 et 5
				var nbralea = Math.round(Math.random() * 4) + 1;
				//console.log(nbralea);
				monsrc = "images/image"+nbralea+".png";
				//console.log(monsrc);
				document.getElementById('btnn').src=monsrc;
				//console.log(nbralea);
				//generer la balise img et son images dynamiquement ensuite si l'image dynalique a déjà été generer on va modifier l'atribut src de notre image sinon on doit créer notre objet image et lui onner l'atribut src generer avec le random, alt pour dire que c'est une image generer dynamiquement et aléatoirement et l'ajouter au body
				
				//if(document.getElementById('ImageAleatoire2')) //Si l'image dynamique a déjà été générée		
			}


			// creation d'un objet de type bouton
    		var btn = document.createElement('button');
    		// ajouter atribut id
    		btn.setAttribute('id','btn1');
    		// on met le texte au bouton grace au .innerHTML
    		btn.innerHTML = 'Afficher Aléatoirement';
    		// definir l'evenement onclick du bouton
    		btn.setAttribute('onclick', 'imgalea()');
    		//ON INTEGRE LE BOUTTON DANS LE body du document
    		document.getElementsByTagName("body")[0].appendChild(btn);

    		//creation statique d'une image aléatoire
    		var monImageAléatoireStatique = document.createElement('img');
    		//ajouter un atribut 
    		monImageAléatoireStatique.setAttribute('id','btnn');
    		monImageAléatoireStatique.setAttribute('src','');
    		monImageAléatoireStatique.setAttribute('alt','emplacement predefini de l\' image');
    		monImageAléatoireStatique.setAttribute('height','100');
    		monImageAléatoireStatique.setAttribute('width','100');
    		//
    		document.getElementsByTagName("body")[0].appendChild(monImageAléatoireStatique);
        </script>
	</main>

	
<!--Corps de la page : contient les éléments affichés-->
<footer><a href="http://copyright.be" target="_blank">Copyright © 2020 Sémantique_structurer - Tous droits réservés</a><
<a href="loicbaron@hotmail.fr">mail</a>
</footer>
</body>
</html>